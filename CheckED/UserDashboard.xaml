<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="CheckED.UserDashboard"
             Title="UserDashboard">
    <ScrollView
        BackgroundColor="White"
        Orientation="Both"
        MinimumHeightRequest="600">


        <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="190" />
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <StackLayout Grid.Column="0"
                     BackgroundColor="White"
                     Padding="20">
                <VerticalStackLayout
                    Spacing="20">
            <Image
                   Source="Logo.png"
                   HorizontalOptions="Center"
                   VerticalOptions="Center" />
                    <Label
                Text= "UserName"
                TextColor="Black"
                HorizontalOptions="Center"
                VerticalOptions="Center"/>

                </VerticalStackLayout>
        </StackLayout>
        

        <BoxView Grid.Column="1"
                 Color="Black"
                 WidthRequest="2"
                 HorizontalOptions="Center"
                 VerticalOptions="FillAndExpand" />

          

            <StackLayout Grid.Column="2"
                     BackgroundColor="White"
                     Padding="25">
                <VerticalStackLayout
                    Spacing="5">
                <HorizontalStackLayout
                    Spacing="15">

                    <Label
            Text="Search"
            TextColor="Black"
            FontSize="18"
            HorizontalOptions="End"
            VerticalOptions="Center"/>

                 <Border>
                 <Entry
                 TextColor="Black"
                 FontSize="15"
                 WidthRequest="170"
                 HorizontalOptions="Start"
                 VerticalOptions="Start"/>
                    </Border>


                </HorizontalStackLayout>
               
                <Grid
                    Margin="0,120,0,20">


                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <StackLayout
                        Grid.Column="0"
                       Padding="20">
                        <VerticalStackLayout
                            Spacing="25"
                            HorizontalOptions="Center"
                            VerticalOptions="Center">
                            <Label
                                Text="Upcoming Events"
                                TextColor="Black"
                                Margin="0"/>

                            <Border
                                HeightRequest="450"
                                Stroke="Transparent">
                                    
                            <ScrollView>
                           <CollectionView
                             ItemsSource="{Binding UpcomingEvents}"  
                             VerticalOptions="FillAndExpand">
                            <CollectionView.ItemTemplate>
                             <DataTemplate>
                             <Frame
                                 
                            Padding="10"
                            Margin="10"
                            CornerRadius="10"
                            HasShadow="True"
                            BackgroundColor="White">
                                                <StackLayout
                                                    Spacing="5">
                                      <Image
                                    Source="{Binding ImageUrl}"  
                                    Aspect="AspectFit"
                                    HeightRequest="200"/>

                                    <Label
                                    Text="{Binding EventName}"  
                                    LineBreakMode="WordWrap"
                                    FontSize="20"
                                    FontAttributes="Bold"
                                    TextColor="Black"
                                    Margin="0,10,0,0"/>

                                    <Label
                                    Text="{Binding EventDate}"  
                                      LineBreakMode="WordWrap"
                                    FontSize="16"
                                    TextColor="Gray"/>

 
                                    <Label
                                    Text="{Binding EventDescription}" 
                                    FontSize="14"
                                    LineBreakMode="WordWrap"
                                    HorizontalOptions="Start"
                                    VerticalOptions="Start"
                                    TextColor="Black"
                                    Margin="0,5,0,0"/>

                                                    
                                     <Button
                                     Text="REGISTER"
                                     HorizontalOptions="End"
                                     x:Name="ButtonRegister"
                                     Clicked="BtnRegister"
                                     BackgroundColor="Black"
                                     TextColor="White"/>

                                                    </StackLayout>
                                            </Frame>
                                        </DataTemplate>
                                    </CollectionView.ItemTemplate>

                                </CollectionView>
                            </ScrollView>
                            </Border>

                        </VerticalStackLayout>

                    </StackLayout>

                    
                    
                    

                    <StackLayout
                        Grid.Column="2"
                       Padding="20">
                        <VerticalStackLayout
                            HorizontalOptions="Center"
                            VerticalOptions="Center"
                            Spacing="25">
                            <Label
                                Text="Registered Events"
                                TextColor="Black"
                                Margin="0"/>


                            <Border
                           HeightRequest="450"
                            Stroke="Transparent">

                                <ScrollView>
                                    <CollectionView
                                     ItemsSource="{Binding UpcomingEvents}"  
                                      VerticalOptions="FillAndExpand">
                                        <CollectionView.ItemTemplate>
                                            <DataTemplate>
                                                <Frame
      
                                                Padding="10"
                                                 Margin="10"
                                                CornerRadius="10"
                                                HasShadow="True"
                                                     BackgroundColor="White">
                                                    <StackLayout
                                                     Spacing="5">
                                                        <Image
                                                     Source="{Binding ImageUrl}"  
                                                     Aspect="AspectFit"
                                                     HeightRequest="200"/>

                                                        <Label
                                                     Text="{Binding EventName}"  
                                                     LineBreakMode="WordWrap"
                                                     FontSize="20"
                                                     FontAttributes="Bold"
                                                     TextColor="Black"
                                                     Margin="0,10,0,0"/>

                                                        <Label
                                                         Text="{Binding EventDate}"  
                                                           LineBreakMode="WordWrap"
                                                         FontSize="16"
                                                         TextColor="Gray"/>


                                                        <Label
                                                         Text="{Binding EventDescription}" 
                                                         FontSize="14"
                                                         LineBreakMode="WordWrap"
                                                         HorizontalOptions="Start"
                                                         VerticalOptions="Start"
                                                         TextColor="Black"
                                                         Margin="0,5,0,0"/>


                                                        <Button
                                                          Text="Check In"
                                                          HorizontalOptions="End"
                                                          x:Name="ButtonRegister"
                                                          Clicked="BtnRegister"
                                                          BackgroundColor="Black"
                                                          TextColor="White"/>

                                                    </StackLayout>
                                                </Frame>
                                            </DataTemplate>
                                        </CollectionView.ItemTemplate>

                                    </CollectionView>
                                </ScrollView>
                            </Border>

                        </VerticalStackLayout>

                    </StackLayout>

                </Grid>
                </VerticalStackLayout>
            </StackLayout>
    </Grid>
    </ScrollView>
</ContentPage>
    
    